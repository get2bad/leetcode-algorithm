# [è¿ç»­çš„å­æ•°ç»„å’Œ](https://leetcode-cn.com/problems/continuous-subarray-sum/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­è¯¥æ•°ç»„æ˜¯å¦å«æœ‰åŒæ—¶æ»¡è¶³ä¸‹è¿°æ¡ä»¶çš„è¿ç»­å­æ•°ç»„ï¼š

- å­æ•°ç»„å¤§å° **è‡³å°‘ä¸º 2** ï¼Œä¸”
- å­æ•°ç»„å…ƒç´ æ€»å’Œä¸º `k` çš„å€æ•°ã€‚

å¦‚æœå­˜åœ¨ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

å¦‚æœå­˜åœ¨ä¸€ä¸ªæ•´æ•° `n` ï¼Œä»¤æ•´æ•° `x` ç¬¦åˆ `x = n * k` ï¼Œåˆ™ç§° `x` æ˜¯ `k` çš„ä¸€ä¸ªå€æ•°ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [23,2,4,6,7], k = 6
è¾“å‡ºï¼štrue
è§£é‡Šï¼š[2,4] æ˜¯ä¸€ä¸ªå¤§å°ä¸º 2 çš„å­æ•°ç»„ï¼Œå¹¶ä¸”å’Œä¸º 6 ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [23,2,6,4,7], k = 6
è¾“å‡ºï¼štrue
è§£é‡Šï¼š[23, 2, 6, 4, 7] æ˜¯å¤§å°ä¸º 5 çš„å­æ•°ç»„ï¼Œå¹¶ä¸”å’Œä¸º 42 ã€‚ 
42 æ˜¯ 6 çš„å€æ•°ï¼Œå› ä¸º 42 = 7 * 6 ä¸” 7 æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šnums = [23,2,6,4,7], k = 13
è¾“å‡ºï¼šfalse
```



## å‰ç¼€å’Œ + æš´åŠ›æ³•

åˆšçœ‹åˆ°è¿™é“é¢˜å°±è§‰å¾—ä¼¼æ›¾ç›¸è¯†ï¼Œè¿™ä¸æ˜¯æ±‚è¿ç»­çš„å­æ•°ç»„ä¹ˆï¼Ÿæˆ‘ä»¬å¯ä»¥ç›´æ¥å¥—ç”¨å‰ç¼€å’Œ + æš´åŠ›æ³•æ¥æå®š,ä½†æ˜¯å¯æƒœçš„æ˜¯æœ€ç»ˆä»¥è¶…æ—¶å‘Šç»ˆ(å°´å°¬ğŸ˜“....)

![](http://image.tinx.top/20210602094628.png)

```java
public static boolean checkSubarraySum(int[] nums, int k) {
    int sum = 0;
    for (int i = 0; i < nums.length; i++) {
        sum += nums[i];
        for (int j = i + 1; j < nums.length; j++) {
            sum += nums[j];
            if(sum % k == 0){
                return true;
            }
        }
        sum = 0;
    }
    return false;
}
```





## å‰ç¼€å’Œ + å“ˆå¸Œè¡¨

æˆ‘ä»¬å¦è¾Ÿè¹Šå¾„ï¼Œç»§ç»­é‡‡ç”¨å‰ç¼€å’Œçš„æ–¹å¼ï¼Œå¤–åŠ ä¸€ä¸ªå“ˆå¸Œè¡¨çš„æ–¹å¼æ¥æå®šè¿™ä¸ªï¼go ~!

æ­¥éª¤å¦‚ä¸‹ï¼š

1. å®šä¹‰ä¸€ä¸ªmapï¼Œä»¥ ä½™æ•° ä¸ºé”®ï¼Œä»¥ éå†åˆ°çš„ä¸‹æ ‡ ä¸ºå€¼
2. éå†numsæ•°ç»„ï¼š

- è®¡ç®— åŠ ä¸Šå½“å‰æ•°åï¼Œè·Ÿ kçš„å€æ•° ç›¸å·®å¤šå°‘
- è‹¥ mapä¸­å­˜åœ¨ å½“å‰ä½™æ•°ï¼Œ
  ä¸” ä¸¤ä¸‹æ ‡ä¹‹é—´ï¼Œç›¸å·®è·ç¦»å¤§äº2
  é‚£ä¹ˆï¼Œè¡¨ç¤º ä¸¤ä¸‹æ ‡ä¹‹é—´ çš„ è¿ç»­å­æ•°ç»„ï¼Œä¸º kçš„å€æ•°

![](http://image.tinx.top/20210602103842.png)

```java
public static boolean checkSubarraySum1(int[] nums, int k) {
    if (nums == null || nums.length < 2) {
        return false;
    }

    int length = nums.length;
    Map<Integer, Integer> map = new HashMap<Integer, Integer>();    // ä»¥ ä½™æ•° ä¸ºé”®ï¼Œä»¥ éå†åˆ°çš„ä¸‹æ ‡ ä¸ºå€¼ï¼Œå­˜å‚¨çš„map
    map.put(0, -1);
    int remainder = 0;
    for (int i = 0; i < length; i++) {
        remainder = (remainder + nums[i]) % k;  // è®¡ç®— åŠ ä¸Šå½“å‰æ•°åï¼Œè·Ÿ kçš„å€æ•° ç›¸å·®å¤šå°‘

        /*
            è‹¥ mapä¸­å­˜åœ¨ å½“å‰ä½™æ•°ï¼Œ
                ä¸” ä¸¤ä¸‹æ ‡ä¹‹é—´ï¼Œç›¸å·®è·ç¦»å¤§äº2
            é‚£ä¹ˆï¼Œè¡¨ç¤º ä¸¤ä¸‹æ ‡ä¹‹é—´ çš„ è¿ç»­å­æ•°ç»„ï¼Œä¸º kçš„å€æ•°
        */
        if (map.containsKey(remainder)) {
            if (i- map.get(remainder) >= 2) {
                return true;
            }
        } else {
            map.put(remainder, i);
        }
    }

    return false;
}
```





# [è¿ç»­æ•°ç»„](https://leetcode-cn.com/problems/contiguous-array/)

ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ `nums` , æ‰¾åˆ°å«æœ‰ç›¸åŒæ•°é‡çš„ `0` å’Œ `1` çš„æœ€é•¿è¿ç»­å­æ•°ç»„ï¼Œå¹¶è¿”å›è¯¥å­æ•°ç»„çš„é•¿åº¦ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [0,1]
è¾“å‡º: 2
è¯´æ˜: [0, 1] æ˜¯å…·æœ‰ç›¸åŒæ•°é‡0å’Œ1çš„æœ€é•¿è¿ç»­å­æ•°ç»„ã€‚
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [0,1,0]
è¾“å‡º: 2
è¯´æ˜: [0, 1] (æˆ– [1, 0]) æ˜¯å…·æœ‰ç›¸åŒæ•°é‡0å’Œ1çš„æœ€é•¿è¿ç»­å­æ•°ç»„ã€‚
```



åˆšçœ‹åˆ°è¿™é“é¢˜ï¼Œç ”ç©¶äº†å¥½ä¹…éƒ½ä¸çŸ¥é“æ˜¯å•¥æ„æ€ï¼Œè¿™å®˜æ–¹å‡ºé¢˜è¶Šæ¥è¶Šæ•·è¡äº†ï¼Œå¥½æ­¹å¯ä»¥çœ‹çœ‹è‹±æ–‡ç‰ˆï¼Œçœ‹å®Œè‹±æ–‡åŸæ–‡ï¼Œæ‰ç»ˆäºäº†è§£äº†æ„æ€ï¼Œä½›äº†....



## å‰ç¼€å’Œ + å“ˆå¸Œè¡¨

æ€è·¯ï¼š

>  å¦‚æœç­”æ¡ˆé 0ï¼Œé‚£ä¹ˆå­æ•°ç»„é•¿åº¦å¿…ç„¶ä¸ºå¶æ•°ï¼Œä¸”é•¿åº¦è‡³å°‘ä¸º 2ã€‚

å…·ä½“çš„ï¼Œæˆ‘ä»¬åœ¨é¢„å¤„ç†å‰ç¼€å’Œæ—¶ï¼Œå°† nums[i] ä¸º 0 çš„å€¼æ—¶å½“åš âˆ’1 å¤„ç†ã€‚

ä»è€Œå°†é—®é¢˜è½¬åŒ–ä¸ºï¼š**å¦‚ä½•æ±‚å¾—æœ€é•¿ä¸€æ®µåŒºé—´å’Œä¸º 0 çš„å­æ•°ç»„ã€‚**

åŒæ—¶ä½¿ç”¨ã€Œå“ˆå¸Œè¡¨ã€æ¥è®°å½•ã€ŒæŸä¸ªå‰ç¼€å’Œå‡ºç°çš„æœ€å°ä¸‹æ ‡ã€æ˜¯å¤šå°‘ã€‚

å†ç»“åˆã€Œå¦‚æœç­”æ¡ˆé 0ï¼Œå­æ•°ç»„é•¿åº¦è‡³å°‘ä¸º 2ã€çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬è®©å¾ªç¯ä» 2 å¼€å§‹ï¼Œå¹¶åœ¨å¾ªç¯å¼€å§‹å‰å¾€ã€Œå“ˆå¸Œè¡¨ã€å­˜å…¥å‰ç¼€å’Œå…ƒç´ ï¼Œä»è€Œå®ç°ä¸éœ€è¦å¤„ç†è¾¹ç•Œé—®é¢˜ã€‚

å¤§è‡´æƒ³æ³•å°±æ˜¯ï¼š

å¦‚æœå“ˆå¸Œè¡¨ä¸­å­˜åœ¨è¿™ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆå°±å°†ç°åœ¨ä»2å¼€å§‹éå†çš„å…ƒç´ å‡å»å‰ç¼€å’Œå­˜å‚¨çš„æ•°ç»„ç´¢å¼•å€¼ï¼Œå…·ä½“å¦‚ä¸‹ï¼š

æµ‹è¯•ç”¨ä¾‹ï¼š [0,1,0,1,0,1]

å‰ç¼€å’Œç»“æœï¼š [0,-1,0,-1,0,-1,0]

å“ˆå¸Œè¡¨éå†ç»“æœæ­¥éª¤ï¼š

1. Map => (0,0) | ans = 0
2. Map => (-1,1)(0,0) | ans = 3 - 1 = 2
3. map => ä¸å˜ | ans = 2
4. map => ä¸å˜ | ans = 5 - 1 = 4
5. map => ä¸å˜ | ans = 4
6. map => ä¸å˜ | ans = 6 - 0 = 6
7. map => ä¸å˜ | ans = 6
8. è¿”å› ans = 6

![](http://image.tinx.top/20210603114932.png)

```java
public static int findMaxLength(int[] nums) {
    int n = nums.length, ans = 0;
    int[] sum = new int[n + 1];
    for (int i = 1; i <= n; i++) {
        sum[i] = sum[i - 1] + (nums[i - 1] == 1 ? 1 : -1);
    }
    Map<Integer, Integer> map = new HashMap<>();
    map.put(0, 0);
    for (int i = 2; i <= n; i++) {
        if (!map.containsKey(sum[i - 2])) {
            map.put(sum[i - 2], i - 2);
        }
        if (map.containsKey(sum[i])) {
            ans = Math.max(ans, i - map.get(sum[i]));
        }
    }
    return ans;
}
```



