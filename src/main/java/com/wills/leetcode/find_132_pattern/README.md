# [132模式](https://leetcode-cn.com/problems/132-pattern/)

给定一个整数序列：a1, a2, ..., an，一个132模式的子序列 a**i**, a**j**, a**k** 被定义为：当 **i** < **j** < **k** 时，a**i** < a**k** < a**j**。设计一个算法，当给定有 n 个数字的序列时，验证这个序列中是否含有132模式的子序列。

**注意：**n 的值小于15000。

**示例1:**

```
输入: [1, 2, 3, 4]

输出: False

解释: 序列中不存在132模式的子序列。
```

**示例 2:**

```
输入: [3, 1, 4, 2]

输出: True

解释: 序列中有 1 个132模式的子序列： [1, 4, 2].
```

**示例 3:**

```
输入: [-1, 3, 2, 0]

输出: True

解释: 序列中有 3 个132模式的的子序列: [-1, 3, 2], [-1, 3, 0] 和 [-1, 2, 0].
```



看完题目，人是懵懵的，题目中完全没有交代啥，就说找132模式，啥是132模式也没交代，没办法，只能看答案了，看了答案才明白，其实就是如果数组中有包含 <font color=red>低高低</font>规则的就是符合132模式的，这题目也太不严谨了，啥都没说，以下是答案：

```java
public static boolean find132pattern(int[] nums) {
    int n = nums.length;
    int[] min = new int[n];
    min[0] = nums[0];
    for (int i = 1; i < n; i++) {
        min[i] = Math.min(min[i - 1],nums[i]);
    }
    Stack<Integer> stack = new Stack<>();
    for (int i = n -1; i >= 0; i--) {
        // 遍历当前传入的数组，符合当前数组 > 当前最小数数组 就进行以下操作
        // 判断后一个是否小于当前数组元素，如果小于，就符合 低高低 的规则
        // 那么直接返回true即可
        if(nums[i] > min[i]){
            // 如果栈中的数字比 min[i] 还小或者相同，那么说明不可能是 ak，就弹出来
            while(!stack.isEmpty() && stack.peek() <= min[i]){
                // 弹出这个元素
                stack.pop();
            }
            // 检查一下栈顶元素是不是满足 ai<stack.peek()<aj，如果满足就说明找到了
            if(!stack.isEmpty() && stack.peek() < nums[i]){
                // 符合 低高低 的规则，那么就返回true
                return true;
            }
            // 不管怎样都要push进来当前的数，因为当前的数满足了大于 min[i]
            stack.push(nums[i]);
        }
    }
    return false;
}
```

讲解一下上面的思路：

1. 先声明一个最小数数组，第一个元素为数组中的第一个元素，然后做一个遍历，将当前元素和最小元素值做一个比较，将最小的放入最小数数组
2. 然后使用一个 ```Stasck```栈来保存下面遍历的值(具体作用是用来存储遍历的下一个值)
3. 使用倒序遍历
   1. 如果当前数组元素大于最小数组元素，那么就说明开始符合<font color=red>低高低</font>的规则的第一步了
      1. 然后循环栈中保存的下一个值(例如 [1,2,3]，如果当前遍历的值为2 那么栈中保存的就是3) 如果占中元素小于等于最小值，就弹出栈中所有的元素(相当于清空栈中比当前最小数组还小的元素)
      2. 接下来判断 栈中元素(当前遍历元素的下一个元素)，如果小，说明符合<font color=red>低高低</font>规则，所以直接返回true即可
      3. 如果不满足，就将当前遍历元素放入栈中，用于下一次遍历，此元素用作当前遍历值的下一个元素
4. 如果遍历完整个数组都不符合，那么返回flase，说明数组中不存在 <font color=red>低高低</font>的规则的数组

